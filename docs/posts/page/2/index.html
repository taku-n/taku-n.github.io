<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>非同期エンジニアブログ </title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.112.7">
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.d98f2eb6bcd1eaedb7edf166bd16af26.css" rel="stylesheet">
    

    

    
      
    

    
    
      <link href="/posts/index.xml" rel="alternate" type="application/rss+xml" title="非同期エンジニアブログ" />
      <link href="/posts/index.xml" rel="feed" type="application/rss+xml" title="非同期エンジニアブログ" />
      
    
    
    <meta property="og:title" content="Posts" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://taku-n.github.io/posts/" />
<meta itemprop="name" content="Posts">
<meta itemprop="description" content=""><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://taku-n.github.io/" class="f3 fw2 hover-white no-underline white-90 dib">
      非同期エンジニアブログ
    </a>
    <div class="flex-l items-center">
      

      
      











    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          Posts
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
  <article class="pa3 pa4-ns nested-copy-line-height nested-img">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray"></section>
    <section class="flex-ns flex-wrap justify-around mt5">
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="https://taku-n.github.io/posts/windows/" class="link black dim">
        Windows
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Windows おかしくなったときに，管理者権限で，まず実行
sfc /scannow 
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="https://taku-n.github.io/posts/warp/" class="link black dim">
        warp
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      warp Structs And pub struct And&lt;T, U&gt; { pub(super) first: T, pub(super) second: U, }
impl&lt;T, U&gt; FilterBase for And&lt;T, U&gt;
Traits 
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="https://taku-n.github.io/posts/nginx/" class="link black dim">
        nginx
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      nginx Install $ sudo apt install nginx Check $ systemctl status nginx 別の端末からテストする
(WSL2 は，IPv6 に対応していないので注意)
$ curl -4 http://hoge.com/ $ curl -6 http://hoge.com/ Website IPv6 accessibility validator
起動と停止と再起動 $ systemctl start nginx $ systemctl stop nginx $ systemctl restart nginx 設定ファイル 大元の設定ファイルは
/etc/nginx/nginx.conf だが，実際に設定するのは，こちら
/etc/nginx/sites-available/default server ではじまっている部分が
それぞれ，各 Virtual Host になっている
初期設定として
server_name _; の部分を
server_name ach.moe; とする
また，TLS を有効にするため
# listen 443 ssl default_server; # listen [::]:443 ssl default_server; の部分を
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="https://taku-n.github.io/posts/haproxy/" class="link black dim">
        HAProxy
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      HAProxy インストール (Ubuntu 20.04 LTS) $ sudo apt update $ sudo apt full-upgrade $ sudo apt autoremove $ sudo apt install haproxy 設定ファイルのテスト $ sudo haproxy -c -V -f /etc/haproxy/haproxy.cfg Let&rsquo;s Ecrypt 基本は，こちらに従う
インストールと certbot コマンドは，以下の通り
また，certbot コマンドを打つ前に，設定ファイルに追記した内，https の関係する部分は，コメントアウトしておく
$ sudo snap refresh core $ sudo snap install --classic certbot $ sudo systemctl restart haproxy $ $ # 正常に起動したら，つぎを実行 $ $ sudo certbot certonly --standalone --preferred-challenges http --http-01-address 127.0.0.1 --http-01-port 9080 -d hoge.
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="https://taku-n.github.io/posts/tls/" class="link black dim">
        TLS
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      TLS (Transport Layer Security) Certbot インストール方法は，公式サイトを参照
https://certbot.eff.org/
しかし
$ sudo certbot --nginx がエラーになってしまう
とりあえず
$ sudo nginx -t $ sudo nvim /etc/nginx/sites-enabled/default managed by Certbot となっている行をすべてコメントアウト
その後
$ sudo systemctl restart nginx $ sudo certbot --nginx サブコマンドとオプション certonly
証明書の取得のみを行う
renew
期限の残りが 30日未満 の証明書を更新
--dry-run
実際には，証明書の更新を行わない
--force-renewal
すべての証明書を期限の残りにかかわらず，強制的に更新
--manual
Nginx とかを使わずに手動で認証
DNS の場合 (ConoHa DNS) 最も重要な点として，DNS サーバが API による操作に対応していなければならない
ここでは，ConoHa の DNS サーバを利用することにする
初回のやり方は，つぎのとおり
$ sudo certbot certonly --manual --preferred-challenges dns -d hoge.
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="https://taku-n.github.io/posts/go/" class="link black dim">
        Go
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Go go mod Using Go Modules go mod init &lt;ここには何を書く？&gt;
$ # go mod init 公開しなければこちらはなんでもいいらしい $ # 例 $ go mod init hello go test 
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="https://taku-n.github.io/posts/ubuntu2004/" class="link black dim">
        Ubuntu 20.04
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Ubuntu 20.04 $ sudo dpkg-reconfigure tzdata Ubuntuでlocaleを追加する方法
$ sudo locale-gen ja_JP.UTF-8 apt メインの設定ファイルは /etc/apt/sources.list
APT の設定 (/etc/apt/sources.list) をちゃんと理解する
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="https://taku-n.github.io/posts/ipv6/" class="link black dim">
        IPv6
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      IPv6 Server OS: Ubuntu 20.04 Client OS: Windows 10
IPv6 が有効になっているか調べる $ ip -6 a コマンド プロンプト から IPv6 アドレスに ping する &gt;ping {IPv6 address} SSH Server が IPv6 を受け入れるようにする $ sudo nvim /etc/ssh/sshd_config #ListenAddress :: を
ListenAddress :: に変更する
コマンド プロンプト から IPv6 アドレスに SSH で接続する &gt;ssh {user name}@{IPv6 address} 
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="https://taku-n.github.io/posts/hy/" class="link black dim">
        Hy
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Midnight Hy Way 必ず理解しておくべきこと
バージョン $ hy -v hy 0.19.0 REPL $ hy --repl-output-fn=hy.contrib.hy-repr.hy-repr ~/.bashrc に
alias hyr=&#34;hy --repl-output-fn=hy.contrib.hy-repr.hy-repr などとしておき
$ hyr で起動するのがいいだろう
言語基礎 演算 =&gt; (+ 7 3) 10 =&gt; (- 7 3) 4 =&gt; (* 7 3) 21 =&gt; (/ 7 3) 2.3333333333333335 =&gt; (% 7 3) 1 変数 =&gt; (setv x 42) =&gt; x 42 入れ子操作 リスト [&lsquo;1 &lsquo;2 &lsquo;3 &lsquo;4 &lsquo;5] と区別するため
&lsquo;(1 2 3 4 5) のことを
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="https://taku-n.github.io/posts/systemd/" class="link black dim">
        systemd
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      systemd systemctlとserviceの違い
プロセスの確認
$ ps aux $ pstree Unit の一覧と自動起動するかを見る
$ systemctl list-unit-files -t service Unit の一覧と起動状態を見る
$ systemctl list-units -t service Unit の状態を確認する
$ systemctl status [unit-name] Unit の自動起動を有効にする
$ systemctl enable [unit-name] Unit の自動起動を無効にする
$ systemctl disable [unit-name] Unit を起動する
$ systemctl start [unit-name] Unit を停止する
$ systemctl stop [unit-name] Unit を再起動する
$ systemctl restart [unit-name] $ systemctl daemon-reload $ systemctl show hoge.timer $ journalctl -f -u hoge.service もっといい感じにまとめてくださっている人がいました
    </div>
  </div>
</div>
</div>
      
    </section>
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/posts/" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/" aria-label="Page 1" class="page-link" role="button">1</a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 2" class="page-link" role="button">2</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/3/" aria-label="Page 3" class="page-link" role="button">3</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/4/" aria-label="Page 4" class="page-link" role="button">4</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/5/" aria-label="Page 5" class="page-link" role="button">5</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/3/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/5/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul></article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://taku-n.github.io/" >
    &copy; 2023 非同期エンジニアブログ
  </a>
    <div>










</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
